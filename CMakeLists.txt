CMAKE_MINIMUM_REQUIRED(VERSION 2.8.0)
PROJECT(avuos C CXX ASM)

ADD_SUBDIRECTORY(src/kernel/)

ADD_CUSTOM_TARGET(image
	COMMAND ${CMAKE_COMMAND} -E env "SOURCE_DIR=${CMAKE_SOURCE_DIR}" $${CMAKE_SOURCE_DIR}/scripts/runMakeImage.sh
	BYPRODUCTS ${CMAKE_BINARY_DIR}/avuOS.img
	USES_TERMINAL
)

ADD_CUSTOM_TARGET(qemu
	COMMAND ${CMAKE_SOURCE_DIR}/scripts/qemu.sh
	USES_TERMINAL
)